# {{プロジェクト名}} — 実装マイルストーン

**重要**
- フェーズは機能種別で分けること
- 各フェーズ冒頭に「目的・完了条件」を記載すること
- **実装予定関数・クラス名を必ず明記**（形式: `fn: ldl_xxx`, `class: Ldl_Xxx`）
- 役割が重複しないようタスクを棲み分けること
- ユーザーから明確に変更指示がない限り、MVPとしてまず動くものを作るための計画にすること

## 🎯 プロジェクト概要
{{プロジェクトの説明}}

## 📚 関連資料
**実際の資料に合わせて書き換え**
- **要件定義**: `_doc/_Requirements.md`
- **技術仕様書**: `_doc/_TechSpec.md`
- **ディレクトリ構成**: `_doc/_Structure.md`
- **テストワークフロー**: `_doc/_TestWorkflow.md`
- **プラグイン説明**: `localize-debug-log/readme.md`

---

**以降、記載内容サンプル**
## 📋 Phase 1: 基盤セットアップ・環境構築
**ブランチ：feature/phase1-setup**
> 概要（例）: プロジェクトの基本構成と開発環境を整備し、以降のフェーズで機能実装を安全に進められる基盤を作る。
- [ ] プラグインディレクトリ構成の確立
- [ ] メインプラグインファイル（localize-debug-log.php）の骨格作成
- [ ] logs/ディレクトリの自動生成機能実装
- [ ] .htaccess設置によるセキュリティ基盤構築
- [ ] PHPUnitテスト環境のセットアップ検証

---

## 🔧 Phase 2: コア機能実装（ログ収集・処理）
**ブランチ：feature/phase2-core-functions**
> 概要（例）: ログ出力先の制御、タイムゾーン処理、ログ整形など、UIに依存しないコア機能をTDDで実装する。
- [ ] error_log()出力先変更機能の実装
  - [ ] ini_set()による設定変更
  - [ ] debug_log_pathフィルタの実装
- [ ] タイムゾーン処理ロジックの実装
  - [ ] WordPress設定からのタイムゾーン取得
  - [ ] UTC⇔ローカル時間変換機能
- [ ] ログファイル読み込み・整形機能の実装
  - [ ] ログ行解析とタイムスタンプ抽出
  - [ ] ローカル時間の行頭付加処理

---

## 🖥️ Phase 3: 管理画面UI実装
**ブランチ：feature/phase3-admin-ui**
> 概要（例）: 管理者がUIからログを閲覧・削除できる最小構成を、WordPress標準UIのみで実装する（独自CSSなし）。
- [ ] 管理画面メニュー追加機能
  - [ ] 設定サブメニューの実装
  - [ ] 管理バー（上部バー）リンクの実装
- [ ] ログ表示画面の実装
  - [ ] textareaによるログ表示機能
  - [ ] コピペ可能な形式での表示
- [ ] ログ削除機能の実装
  - [ ] 削除ボタンとフォーム
  - [ ] JavaScript確認プロンプト

---

## 🔐 Phase 4: セキュリティ・権限制御実装
**ブランチ：feature/phase4-security-permissions**
> 概要（例）: 入口遮断（admin系フック）を前提に、CSRF保護やパス検証などファイル操作・権限制御の強化に限定して実装する。
- [ ] 管理者権限チェック機能
- [ ] CSRF対策の実装
  - [ ] wp_nonce_field()による保護
  - [ ] check_admin_referer()による検証
- [ ] ファイルアクセス制御
  - [ ] パス検証（realpath()）の実装
  - [ ] 権限外アクセス遮断

---

## 🧪 Phase 5: テスト実装・品質保証
**ブランチ：feature/phase5-quality-assurance**
> 概要（例）: 単体・統合テストの拡充と品質保証に特化し、機能追加は行わずテスト網羅と安定性向上を図る。
- [ ] 単体テスト作成（PHPUnit）
  - [ ] タイムゾーン処理テスト
  - [ ] ログ整形機能テスト
  - [ ] セキュリティ機能テスト
- [ ] 統合テスト実施
  - [ ] ユーザーステージング環境での動作テスト依頼・報告受領
- [ ] エラーハンドリングテスト
  - [ ] ファイル権限エラー時の挙動
  - [ ] 大容量ログファイル時の性能確認

---

## 📦 Phase 6: 最終化・リリース準備
**ブランチ：feature/phase6-release-prep**
> 概要（例）: コード/ドキュメント整合、規約準拠、最終動作確認を行い、リリース可能な状態に仕上げる。機能追加は行わない。
- [ ] 成功・失敗通知機能（admin_notices）
- [ ] エラーハンドリング強化
- [ ] コード品質チェック
  - [ ] 関数プレフィックス（ldl_）の統一確認
  - [ ] WordPressコーディング規約準拠確認
- [ ] ドキュメント最終化
  - [ ] readme.md のブラッシュアップ
  - [ ] 技術仕様書との整合性確認
- [ ] 最終動作テスト
  - [ ] ユーザーステージング環境での最終確認依頼・報告受領

---

## 🎉 完成・リリース
- [ ] 全機能統合テスト完了
- [ ] ユーザー環境での最終動作確認報告受領
- [ ] プロジェクト完成
