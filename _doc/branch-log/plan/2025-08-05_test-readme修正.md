# テスト環境README修正計画

## 要件定義

### 1. 修正の目的
PHPUnit機能移設（`localize-debug-log/` → `dev/`）に伴い、`dev/tests/_README.md`の内容を新しいプロジェクト構造に対応させる

### 2. 現在の問題点
`dev/tests/_README.md`の内容が移設前の構造を前提としており、以下の点で実情と乖離している：

#### 2-1. 初回セットアップ手順
- 現在：プロジェクトルートでの作業を前提とした記述
- 実際：`dev/`ディレクトリでの作業が必要

#### 2-2. 実行コマンド記載
- 現在：`composer test`コマンドのみ記載
- 実際：`npm run test`（ルートから）と`composer test`（dev/から）の2つの実行方法が利用可能

#### 2-3. 運用フローの説明
- 現在：composer前提の説明
- 実際：package.json + npm scriptsによるショートカット実行が推奨

### 3. 修正対象箇所

#### 3-1. 初回セットアップ手順セクション
- `dev/`ディレクトリでの作業を明記
- プロジェクトルートの`package.json`についての説明追加

#### 3-2. 実行コマンド一覧セクション
- npm runコマンドの追加（推奨方法として）
- 実行場所（ルート vs dev/）の明記
- PowerShell対応について補足

#### 3-3. 日常的な開発フローセクション
- ルートからの`npm run test`を推奨実行方法として追記
- `cd dev && composer test`は補助的な方法として記載

### 4. 新たに追加する内容

#### 4-1. プロジェクト構造説明
```
プロジェクトルート/
├── package.json          # npm scripts（推奨実行方法）
├── dev/                  # 開発・テスト環境
│   ├── composer.json     # PHP依存関係管理
│   ├── phpunit.xml       # テスト設定
│   └── tests/            # テストファイル群
└── localize-debug-log/   # プラグイン本体
```

#### 4-2. 実行方法の使い分け
- **推奨**: ルートから`npm run test`（ショートカット）
- **従来**: dev/から`composer test`（直接実行）

#### 4-3. PowerShell環境での注意点
- `cmd /c`使用による`&&`記号対応

### 5. 修正方針
- 既存の有用な情報（ディレクトリ構造、運用ルールなど）は維持
- 新しいプロジェクト構造に合わせて実行コマンド部分を更新
- 初心者にも分かりやすい構成で推奨実行方法を明記
- 従来の方法も残して選択肢を提供

---

## チェックボックス付き実装計画書

**実装計画立案ルール**

- 詳細なステップバイステップの計画書
- とにかく小さい単位
- 明確な開始と終了がある
- １つの関心事に集中

## 計画書

{{ユーザーから要件定義の承認取得後、ここに実装計画立案}}

---
## コミットコメント

{{実装チェックリストが完了後、ユーザーの明確な承認を得たあとでチャットに出力されたコミットコメントを記載}}
